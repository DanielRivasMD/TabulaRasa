////////////////////////////////////////////////////////////////////////////////////////////////////

package cmd

////////////////////////////////////////////////////////////////////////////////////////////////////

import (
	"bytes"
	"os/exec"
)

////////////////////////////////////////////////////////////////////////////////////////////////////

func captureExecCmd(cmd string, args ...string) (string, string, error) {
	cmdRun := exec.Command(cmd, args...)

	// capture buffer
	var stdoutBuf bytes.Buffer
	var stderrBuf bytes.Buffer
	cmdRun.Stdout = &stdoutBuf
	cmdRun.Stderr = &stderrBuf

	// run the command
	err := cmdRun.Run()
	if err != nil {
		return "", "", err
	}

	// return output
	return stdoutBuf.String(), stderrBuf.String(), nil
}

////////////////////////////////////////////////////////////////////////////////////////////////////
