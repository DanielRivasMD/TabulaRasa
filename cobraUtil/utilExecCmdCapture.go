////////////////////////////////////////////////////////////////////////////////////////////////////

package cmd

////////////////////////////////////////////////////////////////////////////////////////////////////

import (
	"bytes"
	"os/exec"
)

////////////////////////////////////////////////////////////////////////////////////////////////////

func execCmdCapture(cmd string, args ...string) (string, string, error) {
	cmdRun := exec.Command(cmd, args...)

		// capture buffer
		var stdoutBuf bytes.Buffer
		var stderrBuf bytes.Buffer
		cmdRun.Stdout = &stdoutBuf
		cmdRun.Stderr = &stderrBuf

		// Run the command
		err := cmdRun.Run()
		if err != nil {
			return "", "", err
		}

	// Return captured output as a string
	return stdoutBuf.String(), stderrBuf.String(), nil
}

////////////////////////////////////////////////////////////////////////////////////////////////////
