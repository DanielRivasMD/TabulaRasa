////////////////////////////////////////////////////////////////////////////////////////////////////

package cmd

////////////////////////////////////////////////////////////////////////////////////////////////////

import (
	"fmt"
	"io/fs"
	"path/filepath"
)

////////////////////////////////////////////////////////////////////////////////////////////////////

// define type for processing function
type fileProcessor func(string)

// walk function accept processor function
func walk(processor fileProcessor) fs.WalkDirFunc {
	return func(ς string, ʌ fs.DirEntry, ε error) error {
		if ε != nil {
			return ε
		}

		// check directory
		if !ʌ.IsDir() {
			Θ, ƒ := filepath.Split(ς)
			ϙ, _ := isHiddenFile(ƒ)

			// ignore hidden files
			if !ϙ {

				// log verbose
				if verboseBool {
					fmt.Println(ƒ)
				}

				// call processor function
				processor(filepath.Join(Θ, ƒ))
			}
		}
		return nil
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////
